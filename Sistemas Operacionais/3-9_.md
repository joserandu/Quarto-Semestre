# Comunicação Interprocesso | Parte 1 de 2 

* Termos: Condição de corrida, Regiões críticas e Exclução mútua.

## Região Crítica (Critical Region)
  
- A região crítica é uma seção de código que acessa um recurso compartilhado. Um recurso compartilhado pode ser uma variável, um arquivo, uma impressora ou qualquer outro dado que pode ser usado por mais de um processo ou thread ao mesmo tempo.
  
- A principal característica da região crítica é que ela não pode ser executada por mais de um processo simultaneamente. Se dois processos tentarem entrar na região crítica ao mesmo tempo, podem causar resultados inconsistentes.
  - A ideia é que nenhum dos dois processos estejam em uma região crítica.

### Exemplo: 
- Um trecho de código que lê o saldo de uma conta bancária, adiciona um valor e depois salva o novo saldo. O saldo da conta é o recurso compartilhado.

## Condição de Corrida (Race Condition)

- A condição de corrida é o problema que ocorre quando dois ou mais processos tentam acessar a mesma região crítica ao mesmo tempo. O resultado final da operação depende da ordem (ou da "corrida") em que os processos são executados pelo escalonador do sistema operacional.

- Se o escalonador interrompe um processo no meio da sua região crítica e permite que outro processo entre, o recurso compartilhado pode ser modificado de forma inesperada.

### Exemplo:

  - Processo A lê o saldo: R$ 100.
  - Processo B é ativado, lê o mesmo saldo: R$ 100.
  - Processo A adiciona R$ 50 e salva o novo saldo: R$ 150.
  - Processo B, sem saber o que A fez, adiciona R$ 20 ao seu valor original (R$ 100) e salva o novo saldo: R$ 120.
  - O saldo final deveria ser R$ 170 (100 + 50 + 20), mas devido à condição de corrida, o valor de R$ 120 sobrescreveu o valor de R$ 150. A operação do Processo A foi perdida.

## Exclusão Mútua (Mutual Exclusion)

- A exclusão mútua é a solução para a condição de corrida. É uma técnica ou um princípio que garante que, em qualquer momento, apenas um processo ou thread pode estar dentro da sua região crítica.

- Para implementar a exclusão mútua, os sistemas operacionais e as linguagens de programação usam mecanismos de sincronização, como:

- Mutexes (locks): Funcionam como uma chave. Antes de um processo entrar na região crítica, ele "pega" a chave. Se a chave estiver ocupada, ele espera. Depois de sair, ele "solta" a chave, permitindo que outro processo a use.

- Semáforos: Atuam como contadores que controlam o acesso a recursos.

- Monitores: Construtos de programação que encapsulam dados compartilhados e as funções que os acessam, garantindo que apenas uma função seja executada por vez.

### A Conexão Entre Eles

- A conexão é direta e lógica:

  - A região crítica é o local do problema (o trecho de código que acessa o recurso compartilhado).

  - A condição de corrida é o problema em si (o resultado imprevisível que ocorre quando processos competem para entrar na região crítica).

  - A exclusão mútua é a solução para o problema (o princípio que garante que apenas um processo por vez acesse a região crítica, prevenindo a condição de corrida).

![Image](https://github.com/user-attachments/assets/4e5eef88-d746-4e6b-bab3-533fe9841ccf)
![Image](https://github.com/user-attachments/assets/817ce001-786f-4112-a79f-d5f881617461)
![Image](https://github.com/user-attachments/assets/95e70304-d2cb-44b7-86ab-0d5fd4062845)
![Image](https://github.com/user-attachments/assets/b5cdfe77-bbe8-4696-a3c1-818352061c81)
![Image](https://github.com/user-attachments/assets/f0fbb177-1a4d-4ade-a81f-a129b276a284)
![Image](https://github.com/user-attachments/assets/55aac92a-efe5-4d00-a93a-614060696b74)
![Image](https://github.com/user-attachments/assets/c83ec6eb-3136-4fe7-b74e-cffcb9c8a4f7)
![Image](https://github.com/user-attachments/assets/81f107d3-6f4e-4ab9-81a2-7bb108d0baf7)
![Image](https://github.com/user-attachments/assets/d03f467b-b776-4b5f-94d6-6abe08dbe961)
